"use strict";angular.module("clockularApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ui.bootstrap","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("clockularApp").controller("MainCtrl",["$scope","$interval",function(a,b){var c={},d=new Audio("./audio/sounds-958-thin.mp3");c.tick=function(){if(a.clock=new Date,a.alarmTime){var d=new Date(a.clock);d.setSeconds(0),d.setMilliseconds(0),a.alarmTime.setSeconds(0),a.alarmTime.setMilliseconds(0),a.alarmTime.getTime()===d.getTime()&&(c.soundAlarm(),a.soundAlarmPromise=b(c.soundAlarm,1500),c.toggleAlarm(),a.alarmTime=null)}},c.soundAlarm=function(){d.play()},c.toggleAlarm=function(){a.showAlarm=!a.showAlarm},a.resetAlarm=function(){a.showAlarm=!1,a.alarmTime=null,a.modalOpen=!1,b.cancel(a.soundAlarmPromise)},a.setAlarm=function(){a.modalOpen=!1},a.showModal=function(){a.modalOpen=!0},c.tick(),b(c.tick,1e3)}]),angular.module("clockularApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("clockularApp").directive("clock",function(){return{template:"<h1>{{ clock | date:'h:mm'}}</h1><span>{{ clock | date:'a'}}</span>",restrict:"E"}}),angular.module("clockularApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="tt-centered-wrapper" ng-class="{alarm: showAlarm}"> <div class="tt-clock"> <clock ng-class="{pulse: showAlarm}"></clock> <div class="tt-set-alarm-cta"> <p ng-click="showModal()" ng-if="!showAlarm && !alarmTime"><span class="glyphicon glyphicon-time"></span> set alarm</p> <p ng-click="resetAlarm()" ng-if="showAlarm"><span class="glyphicon glyphicon-remove"></span> clear</p> <p ng-if="alarmTime"> alarm set to <span class="pointer underline" ng-click="showModal()">{{ alarmTime | date:\'h:mm a\'}} <span class="glyphicon glyphicon-edit"></span> </span> </p></div> </div> <div class="tt-modal-backdrop" ng-class="{open:modalOpen}"> <div class="tt-modal"> <span class="glyphicon glyphicon-remove" ng-click="modalOpen = false;"></span> <h2>Select Time</h2> <timepicker ng-model="alarmTime" class="tt-timepicker"></timepicker> <button class="btn btn-success" ng-click="setAlarm();">Set Alarm</button> <p class="o8 underline pointer text-gray" ng-click="resetAlarm()">clear</p> </div> </div> </div>')}]);
